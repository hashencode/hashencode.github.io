<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>CSS 块格式化上下文（BFC） - 札记</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="札记"><meta name="msapplication-TileImage" content="/img/favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="札记"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="BFC 的基础概念和常见用途"><meta property="og:type" content="blog"><meta property="og:title" content="CSS 块格式化上下文（BFC）"><meta property="og:url" content="https://hashencode.github.io/post/e15a24d1/"><meta property="og:site_name" content="札记"><meta property="og:description" content="BFC 的基础概念和常见用途"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://hashencode.github.io/images/114.jpg"><meta property="og:image" content="https://hashencode.github.io/images/115.jpg"><meta property="og:image" content="https://hashencode.github.io/images/116.jpg"><meta property="og:image" content="https://hashencode.github.io/images/117.jpg"><meta property="og:image" content="https://hashencode.github.io/images/118.jpg"><meta property="article:published_time" content="2020-08-08T01:22:48.000Z"><meta property="article:modified_time" content="2023-08-23T02:45:19.265Z"><meta property="article:author" content="BiteByte"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/images/114.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hashencode.github.io/post/e15a24d1/"},"headline":"札记","image":["https://hashencode.github.io/images/114.jpg","https://hashencode.github.io/images/115.jpg","https://hashencode.github.io/images/116.jpg","https://hashencode.github.io/images/117.jpg","https://hashencode.github.io/images/118.jpg"],"datePublished":"2020-08-08T01:22:48.000Z","dateModified":"2023-08-23T02:45:19.265Z","author":{"@type":"Person","name":"BiteByte"},"description":"BFC 的基础概念和常见用途"}</script><link rel="canonical" href="https://hashencode.github.io/post/e15a24d1/"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><meta name="google-site-verification" content="T7vkvAk0P1q3aljSms1CTcjEuusgc5fuZEXlVpqula4"><meta name="baidu-site-verification" content="code-yaxwed26ig"><meta name="sogou_site_verification" content="Zp4ZwuNJV3"><meta name="shenma-site-verification" content="dca2d80f9ad6bebcae0687cb36a512b8_1607603572"><meta name="360-site-verification" content="e4450cfd468cc5740855ff0297018c33"><meta name="generator" content="Hexo 5.4.2"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand "><a class="navbar-item navbar-logo" href="/"><img src="/img/og_image.png" alt="札记" height="28"></a></div><div class="navbar-menu"><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-9-tablet is-9-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><h1 class="title is-3 is-size-4-mobile">CSS 块格式化上下文（BFC）</h1><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2020-08-08T01:22:48.000Z" title="2020-08-08T01:22:48.000Z">2020-08-08</time>发表</span><span class="level-item"><time dateTime="2023-08-23T02:45:19.265Z" title="2023-08-23T02:45:19.265Z">2023-08-23</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/CSS/">CSS</a></span><span class="level-item">8 分钟读完 (大约1125个字)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><div class="content"><p>BFC 的基础概念和常见用途</p>
<span id="more"></span>

<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>块格式化上下文（Block Formatting Context）是一个独立的渲染区域，其最有用的一个特性便是：各个 BFC 之间不会互相影响。</p>
<p>常见的 BFC 元素：</p>
<ul>
<li>根元素（<code>&lt;html&gt;</code>）</li>
<li>浮动元素（float）、行内块元素（inline-block）</li>
<li>弹性元素（flex）、网格元素（grid）</li>
<li>相对/绝对定位元素（absolute/fixed）</li>
<li>overflow 属性不为 visible 的元素（常用）</li>
</ul>
<h2 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h2><p>BFC 常见的用途有三种：</p>
<ol>
<li>清除浮动</li>
<li>清除边距折叠</li>
<li>实现自适应布局</li>
</ol>
<h2 id="清除浮动"><a href="#清除浮动" class="headerlink" title="清除浮动"></a>清除浮动</h2><p>首先来了解一下浮动，float 的原始作用是为了实现文字环绕效果，可以理解为部分脱离文档流。</p>
<p>脱离文档流分为两种：</p>
<ol>
<li>部分脱离文档流：例如 <code>float</code> ，使用 <code>float</code> 属性后，其他 block 盒子会无视 <code>float</code> 元素进行布局，但是其他盒子内的 inline 元素和 inline-block 元素依旧会为这个浮动的盒子让出位置。</li>
<li>完全脱离文档流：例如<code>position:absolute</code>，使用绝对定位的盒子，其他盒子无论是其本身还是里面的任何元素都会无视这个绝对定位的盒子进行布局。</li>
</ol>
<p>当一个元素被设置成浮动时，就会部分脱离文档流，无法撑开其父元素，导致各类显示问题，所以需要进行清除浮动，下面是一个常见的例子，浮动元素没有将父元素的高度撑开造成了高度塌陷。</p>
<p><img src="/images/114.jpg"></p>
<h3 id="clear-清除浮动"><a href="#clear-清除浮动" class="headerlink" title="clear 清除浮动"></a>clear 清除浮动</h3><p>设置了<code>clear:left/right</code>的盒子，不允许和左/右侧的浮动元素相邻，设置了<code>clear:both</code>的盒子，左右两侧的都不能与浮动元素相邻。</p>
<p>这是未设置<code>clear: both</code>的效果：</p>
<p><img src="/images/115.jpg"></p>
<p>这是设置了<code>clear: both</code>的效果：</p>
<p><img src="/images/116.jpg"></p>
<p>现在已经知道为浮动元素的兄弟元素添加 clear 属性能够达到清除浮动的效果，这个元素可以使空白的 div ，也可以是伪元素。对于用于清除浮动来说，clear 的值是left、right 还是 both 取决于浮动元素在左侧还是右侧，因为只需要这个属性让元素与浮动元素不相邻即可。</p>
<p>下面为使用伪元素清除浮动：</p>
<p><img src="/images/117.jpg"></p>
<h3 id="BFC-清除浮动"><a href="#BFC-清除浮动" class="headerlink" title="BFC 清除浮动"></a>BFC 清除浮动</h3><p>BFC 清除浮动和 clear 清除浮动的区别在于：BFC 是为父元素添加属性，比如添加 <code>overflow:hidden</code>，父元素变成了 BFC，可以包裹浮动流，即使内部所有元素都是浮动元素，都不会产生高度塌陷。</p>
<p><img src="/images/118.jpg"></p>
<h2 id="清除边距折叠"><a href="#清除边距折叠" class="headerlink" title="清除边距折叠"></a>清除边距折叠</h2><p>在同一个 BFC 内，两个或多个<strong>毗邻</strong>的普通流中的元素（可能是父子元素，也可能是兄弟元素）在<strong>垂直方向</strong>上的外边距会发生叠加，取较大值显示，这种形成的外边距称之为外边距叠加。例如：父元素设置了 <code>margin-top=5px</code>，子元素设置了 <code>margin-top=10px</code>，会导致父元素实际显示的是 <code>margin-top=10px</code> 的效果</p>
<p>这里要注意的是元素之间必须是毗邻的，不能存在 padding 或 border，而且只有在垂直方向会发生折叠，水平方向并不存在折叠的情况。</p>
<p>要解决重叠的问题，只需要让他们不存在与同一个 BFC 内即可，对于相邻元素，只要给他们各自都加上 BFC 外壳，就能消除重叠，对于嵌套元素，只需要让父元素触发 BFC 就能消除折叠。</p>
<h2 id="实现自适应布局"><a href="#实现自适应布局" class="headerlink" title="实现自适应布局"></a>实现自适应布局</h2><p>由于各个 BFC 之间互不影响，所以当一个浮动元素和 BFC 相邻时，并不会出现覆盖的现象，利用这个特点，可以实现两列或多列的自适应布局。</p>
<p><a target="_blank" rel="noopener" href="https://codesandbox.io/embed/css-bfc-q76sp?fontsize=14&hidenavigation=1&initialpath=/page6.html&module=/page6.html&theme=dark">举个例子</a>，right block 触发了 BFC，它便不会受到 left block 是浮动元素的影响，左列大小变化时，右列也会跟着变化，可以实现自适应布局效果。</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>CSS 块格式化上下文（BFC）</p><p><a href="https://hashencode.github.io/post/e15a24d1/">https://hashencode.github.io/post/e15a24d1/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>BiteByte</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2020-08-08</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2023-08-23</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/post/60b1c43/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">浏览器 - XSS 和 CSRF 的原理和对策</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/post/c6c9abf/"><span class="level-item">CSS 实现高度与宽度间的自适应</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-3-tablet is-3-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="BiteByte"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">BiteByte</p><p class="is-size-6 is-block profile-author-title">FED , HangZhou</p></div></div></nav><nav class="level is-mobile" style="margin-bottom: 1.5rem"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title profile-count">52</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title profile-count">5</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Git</p><a target="_blank" href="https://github.com/hashencode"><i class="fab fa-github" style="font-size: 2rem;color: #363636;line-height: 1"></i></a></div></div></nav></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#定义"><span class="level-left"><span class="level-item">1</span><span class="level-item">定义</span></span></a></li><li><a class="level is-mobile" href="#用途"><span class="level-left"><span class="level-item">2</span><span class="level-item">用途</span></span></a></li><li><a class="level is-mobile" href="#清除浮动"><span class="level-left"><span class="level-item">3</span><span class="level-item">清除浮动</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#clear-清除浮动"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">clear 清除浮动</span></span></a></li><li><a class="level is-mobile" href="#BFC-清除浮动"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">BFC 清除浮动</span></span></a></li></ul></li><li><a class="level is-mobile" href="#清除边距折叠"><span class="level-left"><span class="level-item">4</span><span class="level-item">清除边距折叠</span></span></a></li><li><a class="level is-mobile" href="#实现自适应布局"><span class="level-left"><span class="level-item">5</span><span class="level-item">实现自适应布局</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/CSS/"><span class="level-start"><span class="level-item">CSS</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/JavaScript/"><span class="level-start"><span class="level-item">JavaScript</span></span><span class="level-end"><span class="level-item tag">23</span></span></a></li><li><a class="level is-mobile" href="/categories/React/"><span class="level-start"><span class="level-item">React</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%96%87%E7%AB%A0/"><span class="level-start"><span class="level-item">文章</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%AE%97%E6%B3%95/"><span class="level-start"><span class="level-item">算法</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/og_image.png" alt="札记" height="28"></a><p class="is-size-7"><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span><span style="margin:0 8px;">|</span><a href="https://beian.miit.gov.cn/" target="_blank">备案号: 浙ICP备19032437号-3</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/hashencode"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" async></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>